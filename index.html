<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Trendify — Compact Top Header — Demo</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:linear-gradient(180deg,#fbfdff 0%, #f7fbff 100%);
    --card:#ffffffcc;
    --muted:#6b7280;
    --accent:#06b6d4;
    --accent-2:#7c3aed;
    --radius:12px;
    --shadow:0 10px 30px rgba(2,6,23,0.06);
    font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);padding:18px;display:flex;justify-content:center;color:#0f172a}
  .app{width:100%;max-width:1400px;display:flex;flex-direction:column;gap:14px}

  /* ===== COMPACT HEADER (main changes here) =====
     - reduced vertical padding
     - tighter spacing between items
     - more compact search+filters (inline)
     - account + cart + auth grouped closely
     - smaller radii and subtler shadows for a modern compact look
  ==================================================*/
  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    padding:10px;
    border-radius:14px;
    background:linear-gradient(90deg, rgba(255,255,255,0.62), rgba(255,255,255,0.5));
    box-shadow:var(--shadow);
    border:1px solid rgba(255,255,255,0.6);
  }

  /* Left: logo + brand (smaller) */
  .brand{display:flex;align-items:center;gap:10px}
  .logo{
    width:48px;height:48px;border-radius:10px;
    background:linear-gradient(135deg,var(--accent),var(--accent-2));
    display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-size:20px;
    box-shadow:0 6px 20px rgba(124,58,237,0.12);
    flex-shrink:0;
  }
  .brand-text{display:flex;flex-direction:column;line-height:1}
  .brand-title{font-size:16px;margin:0;font-weight:700}
  .brand-sub{font-size:12px;color:var(--muted);margin-top:2px}

  /* Middle: search + controls compact */
  .center-bar{flex:1;display:flex;align-items:center;gap:10px;justify-content:center}
  .search-box{
    display:flex;align-items:center;gap:8px;background:#fff;border-radius:10px;padding:6px 10px;min-width:260px;max-width:720px;box-shadow:0 8px 18px rgba(2,6,23,0.04);
  }
  .search-box input{border:0;outline:0;padding:8px 6px;font-size:14px;background:transparent;width:100%}

  /* Compact inline filter group (smaller inputs) */
  .filter-inline{display:flex;align-items:center;gap:8px;padding:6px;border-radius:10px;background:rgba(255,255,255,0.9);border:1px solid rgba(240,246,255,0.8)}
  .filter-inline select,.filter-inline input{padding:6px 8px;border-radius:8px;border:1px solid #eef2f6;font-size:13px;background:white}
  .filter-inline .btn{padding:6px 10px;border-radius:8px;font-size:13px}

  /* Right: account + cart + auth grouped */
  .right-group{display:flex;align-items:center;gap:8px}
  .acct-mini{display:flex;gap:8px;align-items:center;padding:6px 8px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(255,255,255,0.9));border:1px solid rgba(255,255,255,0.6)}
  .acct-mini .avatar{width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,var(--accent-2),#ef6aa3);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
  .acct-mini .info{display:flex;flex-direction:column}
  .acct-mini .name{font-size:13px;font-weight:700}
  .acct-mini .status{font-size:11px;color:var(--muted)}

  .cart-mini{padding:6px 10px;border-radius:10px;background:#fff;border:1px solid rgba(6,182,212,0.06);display:flex;flex-direction:column;align-items:flex-end;min-width:110px}
  .cart-mini .small{font-size:12px;color:var(--muted)}
  .cart-mini .total{font-weight:800;font-size:14px}

  .auth-buttons{display:flex;gap:6px}
  .btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:none;padding:8px 12px;border-radius:10px;font-weight:700;cursor:pointer}
  .btn.ghost{background:transparent;color:var(--accent-2);border:1px solid rgba(124,58,237,0.12)}

  /* Make header more "tight" on small screens */
  @media(max-width:980px){
    header{padding:8px}
    .brand-title{font-size:15px}
    .search-box{min-width:180px}
    .acct-mini .name{font-size:12px}
    .cart-mini{min-width:88px}
  }

  /* Stacked layout on very narrow screens; filter collapsible */
  @media(max-width:620px){
    header{flex-direction:column;align-items:stretch;gap:8px}
    .center-bar{justify-content:stretch;flex-direction:column;gap:8px}
    .filter-inline{flex-wrap:wrap;justify-content:flex-start}
    .right-group{align-self:flex-end}
  }

  /* Rest of app (product grid etc) - minimal styles so file is self-contained */
  main{padding:0}
  .grid{display:grid;gap:18px;grid-template-columns:repeat(1,1fr)}
  @media(min-width:520px){ .grid{grid-template-columns:repeat(2,1fr)} }
  @media(min-width:820px){ .grid{grid-template-columns:repeat(3,1fr)} }
  @media(min-width:1100px){ .grid{grid-template-columns:repeat(4,1fr)} }
  @media(min-width:1400px){ .grid{grid-template-columns:repeat(5,1fr)} }
  .card{border-radius:12px;background:var(--card);overflow:hidden;border:1px solid rgba(255,255,255,0.6);padding:0;box-shadow:0 10px 28px rgba(2,6,23,0.04)}
  .thumb{height:180px;overflow:hidden}
  .thumb img{width:100%;height:100%;object-fit:cover;display:block}
  .content{padding:12px}
  .title{margin:0;font-weight:700;font-size:15px}
  .desc{margin:6px 0;color:var(--muted);font-size:13px}
  .meta{display:flex;justify-content:space-between;align-items:center}

  /* small helpers */
  .small{font-size:13px;color:var(--muted)}
  .muted{color:var(--muted)}
  .ripple{position:relative;overflow:hidden}
  .ripple::after{content:"";position:absolute;left:50%;top:50%;width:0;height:0;transform:translate(-50%,-50%);background:rgba(0,0,0,0.06);border-radius:999px;transition:width .4s ease,height .4s ease,opacity .4s ease;opacity:0}
  .ripple:active::after{width:200px;height:200px;opacity:1;transition:0s}
</style>
</head>
<body>
  <div class="app" id="app">
    <!-- COMPACT HEADER -->
    <header>
      <!-- left: logo + brand -->
      <div class="brand">
        <div class="logo">T</div>
        <div class="brand-text">
          <div class="brand-title">Trendify</div>
          <div class="brand-sub">Curated products for modern living</div>
        </div>
      </div>

      <!-- center: compact search + inline filters -->
      <div class="center-bar">
        <!-- compact search box -->
        <div class="search-box" role="search" aria-label="Search products">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="opacity:.6"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.4"/></svg>
          <input id="searchTop" type="search" placeholder="Search products..." aria-label="Search products">
        </div>

        <!-- inline filter group (compact) -->
        <div class="filter-inline" role="region" aria-label="Filters">
          <select id="catTop" aria-label="Category">
            <option value="All">All categories</option>
          </select>
          <input id="minTop" type="number" placeholder="Min ₹" min="0" style="width:86px">
          <input id="maxTop" type="number" placeholder="Max ₹" min="0" style="width:86px">
          <select id="sortTop" aria-label="Sort">
            <option value="relevance">Relevance</option>
            <option value="price_asc">Price ↑</option>
            <option value="price_desc">Price ↓</option>
            <option value="name_asc">Name A→Z</option>
          </select>
          <button id="applyTop" class="btn ripple">Apply</button>
        </div>
      </div>

      <!-- right: account, cart, auth grouped tightly -->
      <div class="right-group">
        <div class="acct-mini" id="acctMini">
          <div class="avatar" id="miniAvatar">T</div>
          <div class="info">
            <div class="name" id="acctName">Guest</div>
            <div class="status" id="acctStatus">Not signed in</div>
          </div>
        </div>

        <div class="cart-mini ripple" id="cartMini" title="Cart">
          <div class="small">Cart</div>
          <div class="total" id="cartTotal">₹0.00</div>
          <div class="small muted" id="cartCount">0 item</div>
        </div>

        <div class="auth-buttons">
          <button id="loginTop" class="btn ghost ripple">Login</button>
          <button id="registerTop" class="btn ripple">Register</button>
        </div>
      </div>
    </header>

    <!-- MAIN: placeholder products grid (keeps previous product data & behavior) -->
    <main>
      <div style="margin:10px 0;color:var(--muted)" id="resultCount">100 products</div>
      <section id="grid" class="grid" aria-live="polite">
        <!-- JS will populate product cards -->
      </section>
    </main>
  </div>

  <!-- modal root and fly container -->
  <div id="modalRoot" aria-hidden="true"></div>
  <div id="flyRoot"></div>

  <!-- Embedded product data (same 100 items) -->
  <script>
    const PRODUCTS = [
      {"id":1,"sku":"ELE-0001","name":"Aurora Wireless Headphones","description":"Over-ear Bluetooth headphones with ANC and long battery.","price":129.99,"category":"Electronics","local_image":"assets/images/product-001.jpg","placeholder_image":"https://picsum.photos/seed/product001/800/540"},
      {"id":2,"sku":"ELE-0002","name":"Quantum Smartwatch","description":"Fitness smartwatch with heart-rate, GPS, and customizable watchfaces.","price":199.00,"category":"Electronics","local_image":"assets/images/product-002.jpg","placeholder_image":"https://picsum.photos/seed/product002/800/540"},
      {"id":3,"sku":"FAS-0003","name":"Linen Relaxed Shirt","description":"Lightweight linen shirt with relaxed fit.","price":39.50,"category":"Fashion","local_image":"assets/images/product-003.jpg","placeholder_image":"https://picsum.photos/seed/product003/800/540"},
      {"id":4,"sku":"FAS-0004","name":"Classic Leather Belt","description":"Full-grain leather with brushed metal buckle.","price":24.00,"category":"Fashion","local_image":"assets/images/product-004.jpg","placeholder_image":"https://picsum.photos/seed/product004/800/540"},
      {"id":5,"sku":"HOME-0005","name":"Nordic Table Lamp","description":"Minimal LED table lamp with dimmable touch control.","price":49.99,"category":"Home","local_image":"assets/images/product-005.jpg","placeholder_image":"https://picsum.photos/seed/product005/800/540"},
      {"id":6,"sku":"HOME-0006","name":"Bamboo Cutting Board Set","description":"Durable bamboo boards in three sizes.","price":29.99,"category":"Kitchen","local_image":"assets/images/product-006.jpg","placeholder_image":"https://picsum.photos/seed/product006/800/540"},
      {"id":7,"sku":"BEA-0007","name":"HydraGlow Facial Serum","description":"Vitamin C serum for brighter, hydrated skin.","price":27.50,"category":"Beauty","local_image":"assets/images/product-007.jpg","placeholder_image":"https://picsum.photos/seed/product007/800/540"},
      {"id":8,"sku":"SPT-0008","name":"TrailRunner Sneakers","description":"Lightweight running shoes with breathable mesh.","price":79.99,"category":"Sports","local_image":"assets/images/product-008.jpg","placeholder_image":"https://picsum.photos/seed/product008/800/540"},
      {"id":9,"sku":"TOY-0009","name":"Woodland Train Set","description":"Magnetic wooden train set with tracks and accessories.","price":44.95,"category":"Toys & Kids","local_image":"assets/images/product-009.jpg","placeholder_image":"https://picsum.photos/seed/product009/800/540"},
      {"id":10,"sku":"PET-0010","name":"Comfort Pet Bed","description":"Orthopedic memory foam pet bed with removable cover.","price":59.99,"category":"Pet","local_image":"assets/images/product-010.jpg","placeholder_image":"https://picsum.photos/seed/product010/800/540"},
      /* ... products 11..100 (omitted here for brevity in the snippet) ... */
    ];

    // For the demo below: we will use PRODUCTS.slice() and render a small subset if full list not present
    // (In the full file you would keep all 100 items — this snippet focuses on header changes)
    let products = PRODUCTS.slice();
    if(products.length < 20){
      // In case you saved a trimmed file, create some placeholders to visually populate the grid
      for(let i=11;i<=30;i++){
        products.push({ id:i, sku:'GEN-'+i, name:'Sample product '+i, description:'Sample description', price:9.99 + i, category: 'Misc', local_image:'https://picsum.photos/seed/p'+i+'/800/540', placeholder_image:'https://picsum.photos/seed/p'+i+'/800/540' });
      }
    }

    /* ---------- Header controls: populate category select, wire compact filters, render grid ---------- */
    const gridEl = document.getElementById('grid');
    const catTop = document.getElementById('catTop');
    const minTop = document.getElementById('minTop');
    const maxTop = document.getElementById('maxTop');
    const sortTop = document.getElementById('sortTop');
    const applyTop = document.getElementById('applyTop');
    const searchTop = document.getElementById('searchTop');
    const resultCount = document.getElementById('resultCount');
    const cartMini = document.getElementById('cartMini');
    const cartTotal = document.getElementById('cartTotal');
    const cartCount = document.getElementById('cartCount');
    const acctName = document.getElementById('acctName');
    const acctStatus = document.getElementById('acctStatus');
    const loginTop = document.getElementById('loginTop');
    const registerTop = document.getElementById('registerTop');

    // simple demo cart/session using localStorage
    let cart = JSON.parse(localStorage.getItem('trendify_cart') || '[]');

    document.addEventListener('DOMContentLoaded', ()=>{
      populateCategories();
      renderProducts();
      renderCart();
      wireHeader();
    });

    function populateCategories(){
      const cats = Array.from(new Set(products.map(p=>p.category))).sort();
      cats.forEach(c=>{
        const o = document.createElement('option'); o.value = c; o.textContent = c;
        catTop.appendChild(o);
      });
    }

    function wireHeader(){
      applyTop.addEventListener('click', ()=> renderProducts());
      searchTop.addEventListener('input', debounce(()=> renderProducts(), 160));
      cartMini.addEventListener('click', ()=> alert('Open cart (demo)'));
      loginTop.addEventListener('click', ()=> openAuthModal('login'));
      registerTop.addEventListener('click', ()=> openAuthModal('register'));
    }

    function renderProducts(){
      gridEl.innerHTML = '';
      // gather filters
      const q = (searchTop.value||'').trim().toLowerCase();
      const cat = catTop.value;
      const min = minTop.value ? Number(minTop.value) : null;
      const max = maxTop.value ? Number(maxTop.value) : null;
      const sortVal = sortTop.value;

      let items = products.slice();

      if(q){
        items = items.filter(p => (p.name||'').toLowerCase().includes(q) || (p.description||'').toLowerCase().includes(q) || (p.sku||'').toLowerCase().includes(q));
      }
      if(cat && cat !== 'All') items = items.filter(p => p.category === cat);
      if(min != null) items = items.filter(p => Number(p.price) >= min);
      if(max != null) items = items.filter(p => Number(p.price) <= max);

      if(sortVal === 'price_asc') items.sort((a,b)=>a.price - b.price);
      if(sortVal === 'price_desc') items.sort((a,b)=>b.price - a.price);
      if(sortVal === 'name_asc') items.sort((a,b)=> a.name.localeCompare(b.name));

      resultCount.textContent = items.length + ' products';

      items.forEach((p,i) => {
        const card = document.createElement('article'); card.className='card';
        const thumb = document.createElement('div'); thumb.className='thumb';
        const img = document.createElement('img'); img.src = p.local_image || p.placeholder_image; img.alt = p.name;
        img.onerror = ()=> img.src = p.placeholder_image;
        thumb.appendChild(img);

        const content = document.createElement('div'); content.className='content';
        const title = document.createElement('div'); title.className='title'; title.textContent = p.name;
        const desc = document.createElement('div'); desc.className='desc'; desc.textContent = p.description;
        const meta = document.createElement('div'); meta.className='meta';
        const price = document.createElement('div'); price.className='price'; price.textContent = formatINR(p.price);
        const cat = document.createElement('div'); cat.className='cat small muted'; cat.textContent = p.category;
        meta.appendChild(price); meta.appendChild(cat);

        content.appendChild(title); content.appendChild(desc); content.appendChild(meta);
        card.appendChild(thumb); card.appendChild(content);
        gridEl.appendChild(card);

        // small entrance animation
        card.style.opacity = 0; card.style.transform = 'translateY(8px)';
        setTimeout(()=> { card.style.transition = 'opacity .36s ease, transform .36s ease'; card.style.opacity = 1; card.style.transform = 'translateY(0)'; }, i * 20);
      });
    }

    // cart helpers (demo)
    function addToCart(productId, qty=1){
      const prod = products.find(p=>p.id===productId);
      if(!prod) return;
      const ex = cart.find(c=>c.id===productId);
      if(ex) ex.qty += qty; else cart.push({ id:productId, qty, price:prod.price, name:prod.name });
      localStorage.setItem('trendify_cart', JSON.stringify(cart));
      renderCart();
    }
    function renderCart(){
      const total = cart.reduce((s,i)=>s + i.price * i.qty, 0);
      const count = cart.reduce((s,i)=>s + i.qty, 0);
      cartTotal.textContent = formatINR(total);
      cartCount.textContent = count + ' item' + (count===1?'':'s');
    }

    // currency formatter
    function formatINR(n){ return n.toLocaleString('en-IN', { style:'currency', currency:'INR' }); }

    // AUTH (demo modal)
    function openAuthModal(mode='login'){
      const email = prompt(mode==='register' ? 'Demo register - enter name' : 'Demo login - enter email');
      if(!email) return;
      acctName.textContent = email.split('@')[0];
      acctStatus.textContent = 'Signed in';
    }

    // debounce helper
    function debounce(fn, ms=160){ let t; return (...a)=>{ clearTimeout(t); t = setTimeout(()=>fn(...a), ms); }; }

    // small toast (not used heavily here)
    function toast(msg){ const t = document.createElement('div'); t.textContent = msg; Object.assign(t.style,{position:'fixed',right:'18px',bottom:'18px',background:'#0f172a',color:'#fff',padding:'8px 12px',borderRadius:'8px',zIndex:9000}); document.body.appendChild(t); setTimeout(()=> t.remove(),1400); }

  </script>
</body>
</html>
